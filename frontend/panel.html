<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Panel Principal - Sistema de Tutor칤as</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/panel.css">
    <link rel="stylesheet" href="css/header_panel.css">
    <link rel="stylesheet" href="css/sidebar_panel.css">
    <link rel="stylesheet" href="css/footer_panel.css">
    <link rel="stylesheet" href="css/modals.css">
    <link rel="stylesheet" href="css/administrador/panel.css">
    <link rel="stylesheet" href="css/administrador/semestre.css">
    <link rel="stylesheet" href="css/administrador/gestionUsuarios.css">
    <link rel="stylesheet" href="css/administrador/asignaciones.css">
    <link rel="stylesheet" href="css/administrador/reportes.css">
    <link rel="stylesheet" href="css/administrador/historial.css">
    <link rel="stylesheet" href="css/administrador/auditoria.css">
    <link rel="stylesheet" href="css/tutor/tutor.css">
    <link rel="stylesheet" href="css/tutor/AsignacionTutor.css">

    <link rel="stylesheet" href="css/tutor/atenciontutoria.css">
    <link rel="stylesheet" href="css/tutor/misEstudiantes.css">
    <link rel="stylesheet" href="css/tutor/generar-pdf.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="css/estudiante/estudiante.css">
    <link rel="stylesheet" href="css/estudiante/historial-estudiante.css">
    <link rel="stylesheet" href="css/estudiante/sesion-estudiante.css">
    <!-- Verificador -->
    <link rel="stylesheet" href="css/verificador/verificador.css">
    <link rel="stylesheet" href="css/verificador/administradores.css">
    <link rel="stylesheet" href="css/verificador/historial-estudiante.css">
    <link rel="stylesheet" href="css/verificador/seguimiento-tutor.css">

    <style>
        /* Asegurar visibilidad de componentes principales */
        #header-container,
        #sidebar-container,
        #footer-container {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
        }
        
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }
        .loading-spinner {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
        }
        .loading-spinner i {
            font-size: 2rem;
            color: #3498db;
        }
    </style>
</head>
<body class="bg-gray-100">
    <!-- Script de Depuraci칩n Inicial -->
    <script>
        console.log('游 panel.html cargado');
        console.log('游늸 URL actual:', window.location.href);
        console.log('游늭 Pathname:', window.location.pathname);
        console.log('游댐 Token presente:', localStorage.getItem('token') ? 'S칈' : 'NO');
    </script>
    
    <!-- Header Fijo -->
    <div id="header-container" style="display: block; visibility: visible; opacity: 1;"></div>

    <!-- Sidebar Fijo -->
    <div id="sidebar-container" style="display: block; visibility: visible; opacity: 1;"></div>

    <!-- Contenedor Principal (con margen para header y sidebar) -->
    <div class="main-wrapper">
        <!-- Contenido Principal -->
        <main>
            <!-- Contenido Din치mico seg칰n Rol -->
            <div id="dashboardContent">
                <!-- El contenido se cargar치 din치micamente aqu칤 -->
            </div>
        </main>
        
        <!-- Footer dentro del main-wrapper -->
        <div id="footer-container" style="display: block; visibility: visible; opacity: 1;"></div>
    </div>

    <!-- Modales -->
    <div id="modals-container"></div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay" style="display: none;">
        <div class="loading-spinner">
            <i class="fa-solid fa-spinner fa-spin"></i>
            <p>Cargando...</p>
        </div>
    </div>

    <!-- Librer칤as externas para reportes -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    
    <!-- PDF.js para renderizar PDFs -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>

    <!-- Configuraci칩n global (debe cargarse primero) -->
    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/calendar.js"></script>
    <script src="js/administrador/semestre.js"></script>
    <script src="js/administrador/panel.js"></script>
    <script src="js/administrador/gestionUsuarios.js"></script>
    <script src="js/administrador/asignaciones.js"></script>
    <script src="js/administrador/reportes.js"></script>
    <script src="js/administrador/historial.js"></script>
    <script src="js/administrador/auditoria.js"></script>
    <script src="js/tutor/tutor.js"></script>
    <script src="js/tutor/Asignaciontutor.js"></script>
    <script src="js/tutor/pdf-handler.js"></script>
    <script src="js/tutor/mis_estudiantes.js"></script>
    <script src="js/tutor/atenciontutoria.js"></script>
    <script src="js/estudiante/estudiante.js"></script>
    <script src="js/estudiante/sesion-actual.js"></script>
    <script src="js/estudiante/historial-estudiante.js"></script>
    <!-- Verificador -->
    <script src="js/verificador/verificador.js"></script>
    <script src="js/verificador/administradores.js"></script>
    <script src="js/verificador/historial-estudiante.js"></script>
    <script src="js/verificador/seguimiento-tutor.js"></script>
    <script src="js/main.js"></script>
    <script src="js/header_panel.js"></script>
    <script src="js/sidebar_panel.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.js"></script>
</body>
</html>
